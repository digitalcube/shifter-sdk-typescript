import { AccountLogAuthEventsEventContextData } from './AccountLogAuthEventsEventContextData';
import { AccountLogAuthEventsEventFeedback } from './AccountLogAuthEventsEventFeedback';
import { AccountLogAuthEventsEventRisk } from './AccountLogAuthEventsEventRisk';
import { ArtifactDownloadResponse } from './ArtifactDownloadResponse';
import { ArtifactGetResponse } from './ArtifactGetResponse';
import { CdnStatusGetResponse } from './CdnStatusGetResponse';
import { CommonErrorResponse } from './CommonErrorResponse';
import { CouponGetResponse } from './CouponGetResponse';
import { CouponGetResponseCoupon } from './CouponGetResponseCoupon';
import { DomainGetResponse } from './DomainGetResponse';
import { DomainValidationGetResponse } from './DomainValidationGetResponse';
import { DomainValidationGetResponseCnames } from './DomainValidationGetResponseCnames';
import { InlineObject } from './InlineObject';
import { InlineObject1, InlineObject1PlanIdEnum } from './InlineObject1';
import { InlineObject10 } from './InlineObject10';
import { InlineObject11 } from './InlineObject11';
import { InlineObject12, InlineObject12PlanIdEnum } from './InlineObject12';
import {
  InlineObject13,
  InlineObject13PlanIdEnum,
  InlineObject13CurrentPanIdEnum,
} from './InlineObject13';
import { InlineObject14 } from './InlineObject14';
import { InlineObject15 } from './InlineObject15';
import { InlineObject16 } from './InlineObject16';
import { InlineObject17 } from './InlineObject17';
import { InlineObject18 } from './InlineObject18';
import { InlineObject19 } from './InlineObject19';
import { InlineObject2 } from './InlineObject2';
import { InlineObject20 } from './InlineObject20';
import { InlineObject21 } from './InlineObject21';
import { InlineObject22 } from './InlineObject22';
import { InlineObject23 } from './InlineObject23';
import { InlineObject24 } from './InlineObject24';
import { InlineObject25 } from './InlineObject25';
import { InlineObject26 } from './InlineObject26';
import { InlineObject27 } from './InlineObject27';
import { InlineObject28 } from './InlineObject28';
import { InlineObject29 } from './InlineObject29';
import { InlineObject3 } from './InlineObject3';
import { InlineObject30 } from './InlineObject30';
import { InlineObject31 } from './InlineObject31';
import { InlineObject32 } from './InlineObject32';
import { InlineObject4 } from './InlineObject4';
import { InlineObject5 } from './InlineObject5';
import { InlineObject6 } from './InlineObject6';
import { InlineObject7 } from './InlineObject7';
import { InlineObject8 } from './InlineObject8';
import { InlineObject9 } from './InlineObject9';
import { InlineResponse200 } from './InlineResponse200';
import { InlineResponse2001 } from './InlineResponse2001';
import { InlineResponse20010 } from './InlineResponse20010';
import { InlineResponse20011 } from './InlineResponse20011';
import { InlineResponse20012 } from './InlineResponse20012';
import { InlineResponse20013 } from './InlineResponse20013';
import { InlineResponse2002 } from './InlineResponse2002';
import { InlineResponse2003 } from './InlineResponse2003';
import { InlineResponse2004 } from './InlineResponse2004';
import { InlineResponse2005 } from './InlineResponse2005';
import { InlineResponse2006 } from './InlineResponse2006';
import { InlineResponse2007 } from './InlineResponse2007';
import { InlineResponse2008 } from './InlineResponse2008';
import { InlineResponse2009 } from './InlineResponse2009';
import { InlineResponse200Errors } from './InlineResponse200Errors';
import { InlineResponse201 } from './InlineResponse201';
import { InlineResponse2011 } from './InlineResponse2011';
import { InlineResponse2012 } from './InlineResponse2012';
import { InlineResponse2013 } from './InlineResponse2013';
import { InlineResponse2014 } from './InlineResponse2014';
import { InlineResponse2015 } from './InlineResponse2015';
import { LoginErrorResponse } from './LoginErrorResponse';
import { LoginPostRequest } from './LoginPostRequest';
import { LoginPostResponse } from './LoginPostResponse';
import { PlanGetResponse } from './PlanGetResponse';
import { PlanGetResponseMetadata } from './PlanGetResponseMetadata';
import { PlanResponse } from './PlanResponse';
import { PlanResponseMetadata } from './PlanResponseMetadata';
import { PreviousPlanResponse } from './PreviousPlanResponse';
import { RoleGetResponse } from './RoleGetResponse';
import { SiteCreateResponse } from './SiteCreateResponse';
import { SiteResponse } from './SiteResponse';
import { StatusGetResponse } from './StatusGetResponse';
import { StatusGetResponseMaintenance } from './StatusGetResponseMaintenance';
import { StatusGetResponseUser } from './StatusGetResponseUser';
import { StatusGetResponseUserGroup } from './StatusGetResponseUserGroup';
import { StatusGetResponseUserNotification } from './StatusGetResponseUserNotification';
import { StatusGetResponseUserNotificationEmail } from './StatusGetResponseUserNotificationEmail';
import { SubscriptionCreateResponse } from './SubscriptionCreateResponse';
import { SubscriptionGetResponse } from './SubscriptionGetResponse';
import { SubscriptionGetResponseBillingThresholds } from './SubscriptionGetResponseBillingThresholds';
import { SubscriptionGetResponseDefaultTaxRates } from './SubscriptionGetResponseDefaultTaxRates';
import { SubscriptionGetResponseInvoiceCustomerBalanceSettings } from './SubscriptionGetResponseInvoiceCustomerBalanceSettings';
import { SubscriptionGetResponseItems } from './SubscriptionGetResponseItems';
import { SubscriptionGetResponseItemsData } from './SubscriptionGetResponseItemsData';
import { SubscriptionGetResponseItemsPlan } from './SubscriptionGetResponseItemsPlan';
import { SubscriptionGetResponseItemsPlanMetadata } from './SubscriptionGetResponseItemsPlanMetadata';
import { SubscriptionGetResponseItemsPlanTiers } from './SubscriptionGetResponseItemsPlanTiers';
import { SubscriptionGetResponseItemsPlanTransformUsage } from './SubscriptionGetResponseItemsPlanTransformUsage';
import { SubscriptionGetResponseItemsPrice } from './SubscriptionGetResponseItemsPrice';
import { SubscriptionGetResponseItemsPriceRecurring } from './SubscriptionGetResponseItemsPriceRecurring';
import { SubscriptionGetResponsePauseCollection } from './SubscriptionGetResponsePauseCollection';
import { SubscriptionGetResponsePendingInvoiceItemInterval } from './SubscriptionGetResponsePendingInvoiceItemInterval';
import { SubscriptionGetResponsePendingUpdate } from './SubscriptionGetResponsePendingUpdate';
import { SubscriptionGetResponseTransferData } from './SubscriptionGetResponseTransferData';
import { SubscriptionUpdateResponse } from './SubscriptionUpdateResponse';
import { TeamsResponseWithId } from './TeamsResponseWithId';
import { TeamsResponseWithoutId } from './TeamsResponseWithoutId';
import { UsageSummaryGetResponse } from './UsageSummaryGetResponse';

export * from './AccountLogAuthEventsEventContextData';
export * from './AccountLogAuthEventsEventFeedback';
export * from './AccountLogAuthEventsEventRisk';
export * from './ArtifactDownloadResponse';
export * from './ArtifactGetResponse';
export * from './CdnStatusGetResponse';
export * from './CommonErrorResponse';
export * from './CouponGetResponse';
export * from './CouponGetResponseCoupon';
export * from './DomainGetResponse';
export * from './DomainValidationGetResponse';
export * from './DomainValidationGetResponseCnames';
export * from './InlineObject';
export * from './InlineObject1';
export * from './InlineObject10';
export * from './InlineObject11';
export * from './InlineObject12';
export * from './InlineObject13';
export * from './InlineObject14';
export * from './InlineObject15';
export * from './InlineObject16';
export * from './InlineObject17';
export * from './InlineObject18';
export * from './InlineObject19';
export * from './InlineObject2';
export * from './InlineObject20';
export * from './InlineObject21';
export * from './InlineObject22';
export * from './InlineObject23';
export * from './InlineObject24';
export * from './InlineObject25';
export * from './InlineObject26';
export * from './InlineObject27';
export * from './InlineObject28';
export * from './InlineObject29';
export * from './InlineObject3';
export * from './InlineObject30';
export * from './InlineObject31';
export * from './InlineObject32';
export * from './InlineObject4';
export * from './InlineObject5';
export * from './InlineObject6';
export * from './InlineObject7';
export * from './InlineObject8';
export * from './InlineObject9';
export * from './InlineResponse200';
export * from './InlineResponse2001';
export * from './InlineResponse20010';
export * from './InlineResponse20011';
export * from './InlineResponse20012';
export * from './InlineResponse20013';
export * from './InlineResponse2002';
export * from './InlineResponse2003';
export * from './InlineResponse2004';
export * from './InlineResponse2005';
export * from './InlineResponse2006';
export * from './InlineResponse2007';
export * from './InlineResponse2008';
export * from './InlineResponse2009';
export * from './InlineResponse200Errors';
export * from './InlineResponse201';
export * from './InlineResponse2011';
export * from './InlineResponse2012';
export * from './InlineResponse2013';
export * from './InlineResponse2014';
export * from './InlineResponse2015';
export * from './LoginErrorResponse';
export * from './LoginPostRequest';
export * from './LoginPostResponse';
export * from './PlanGetResponse';
export * from './PlanGetResponseMetadata';
export * from './PlanResponse';
export * from './PlanResponseMetadata';
export * from './PreviousPlanResponse';
export * from './RoleGetResponse';
export * from './SiteCreateResponse';
export * from './SiteResponse';
export * from './StatusGetResponse';
export * from './StatusGetResponseMaintenance';
export * from './StatusGetResponseUser';
export * from './StatusGetResponseUserGroup';
export * from './StatusGetResponseUserNotification';
export * from './StatusGetResponseUserNotificationEmail';
export * from './SubscriptionCreateResponse';
export * from './SubscriptionGetResponse';
export * from './SubscriptionGetResponseBillingThresholds';
export * from './SubscriptionGetResponseDefaultTaxRates';
export * from './SubscriptionGetResponseInvoiceCustomerBalanceSettings';
export * from './SubscriptionGetResponseItems';
export * from './SubscriptionGetResponseItemsData';
export * from './SubscriptionGetResponseItemsPlan';
export * from './SubscriptionGetResponseItemsPlanMetadata';
export * from './SubscriptionGetResponseItemsPlanTiers';
export * from './SubscriptionGetResponseItemsPlanTransformUsage';
export * from './SubscriptionGetResponseItemsPrice';
export * from './SubscriptionGetResponseItemsPriceRecurring';
export * from './SubscriptionGetResponsePauseCollection';
export * from './SubscriptionGetResponsePendingInvoiceItemInterval';
export * from './SubscriptionGetResponsePendingUpdate';
export * from './SubscriptionGetResponseTransferData';
export * from './SubscriptionUpdateResponse';
export * from './TeamsResponseWithId';
export * from './TeamsResponseWithoutId';
export * from './UsageSummaryGetResponse';

/* tslint:disable:no-unused-variable */
let primitives = [
  'string',
  'boolean',
  'double',
  'integer',
  'long',
  'float',
  'number',
  'any',
];

const supportedMediaTypes: { [mediaType: string]: number } = {
  'application/json': Infinity,
  'application/octet-stream': 0,
};

let enumsMap: Set<string> = new Set<string>([
  'InlineObject1PlanIdEnum',
  'InlineObject12PlanIdEnum',
  'InlineObject13PlanIdEnum',
  'InlineObject13CurrentPanIdEnum',
]);

let typeMap: { [index: string]: any } = {
  AccountLogAuthEventsEventContextData: AccountLogAuthEventsEventContextData,
  AccountLogAuthEventsEventFeedback: AccountLogAuthEventsEventFeedback,
  AccountLogAuthEventsEventRisk: AccountLogAuthEventsEventRisk,
  ArtifactDownloadResponse: ArtifactDownloadResponse,
  ArtifactGetResponse: ArtifactGetResponse,
  CdnStatusGetResponse: CdnStatusGetResponse,
  CommonErrorResponse: CommonErrorResponse,
  CouponGetResponse: CouponGetResponse,
  CouponGetResponseCoupon: CouponGetResponseCoupon,
  DomainGetResponse: DomainGetResponse,
  DomainValidationGetResponse: DomainValidationGetResponse,
  DomainValidationGetResponseCnames: DomainValidationGetResponseCnames,
  InlineObject: InlineObject,
  InlineObject1: InlineObject1,
  InlineObject10: InlineObject10,
  InlineObject11: InlineObject11,
  InlineObject12: InlineObject12,
  InlineObject13: InlineObject13,
  InlineObject14: InlineObject14,
  InlineObject15: InlineObject15,
  InlineObject16: InlineObject16,
  InlineObject17: InlineObject17,
  InlineObject18: InlineObject18,
  InlineObject19: InlineObject19,
  InlineObject2: InlineObject2,
  InlineObject20: InlineObject20,
  InlineObject21: InlineObject21,
  InlineObject22: InlineObject22,
  InlineObject23: InlineObject23,
  InlineObject24: InlineObject24,
  InlineObject25: InlineObject25,
  InlineObject26: InlineObject26,
  InlineObject27: InlineObject27,
  InlineObject28: InlineObject28,
  InlineObject29: InlineObject29,
  InlineObject3: InlineObject3,
  InlineObject30: InlineObject30,
  InlineObject31: InlineObject31,
  InlineObject32: InlineObject32,
  InlineObject4: InlineObject4,
  InlineObject5: InlineObject5,
  InlineObject6: InlineObject6,
  InlineObject7: InlineObject7,
  InlineObject8: InlineObject8,
  InlineObject9: InlineObject9,
  InlineResponse200: InlineResponse200,
  InlineResponse2001: InlineResponse2001,
  InlineResponse20010: InlineResponse20010,
  InlineResponse20011: InlineResponse20011,
  InlineResponse20012: InlineResponse20012,
  InlineResponse20013: InlineResponse20013,
  InlineResponse2002: InlineResponse2002,
  InlineResponse2003: InlineResponse2003,
  InlineResponse2004: InlineResponse2004,
  InlineResponse2005: InlineResponse2005,
  InlineResponse2006: InlineResponse2006,
  InlineResponse2007: InlineResponse2007,
  InlineResponse2008: InlineResponse2008,
  InlineResponse2009: InlineResponse2009,
  InlineResponse200Errors: InlineResponse200Errors,
  InlineResponse201: InlineResponse201,
  InlineResponse2011: InlineResponse2011,
  InlineResponse2012: InlineResponse2012,
  InlineResponse2013: InlineResponse2013,
  InlineResponse2014: InlineResponse2014,
  InlineResponse2015: InlineResponse2015,
  LoginErrorResponse: LoginErrorResponse,
  LoginPostRequest: LoginPostRequest,
  LoginPostResponse: LoginPostResponse,
  PlanGetResponse: PlanGetResponse,
  PlanGetResponseMetadata: PlanGetResponseMetadata,
  PlanResponse: PlanResponse,
  PlanResponseMetadata: PlanResponseMetadata,
  PreviousPlanResponse: PreviousPlanResponse,
  RoleGetResponse: RoleGetResponse,
  SiteCreateResponse: SiteCreateResponse,
  SiteResponse: SiteResponse,
  StatusGetResponse: StatusGetResponse,
  StatusGetResponseMaintenance: StatusGetResponseMaintenance,
  StatusGetResponseUser: StatusGetResponseUser,
  StatusGetResponseUserGroup: StatusGetResponseUserGroup,
  StatusGetResponseUserNotification: StatusGetResponseUserNotification,
  StatusGetResponseUserNotificationEmail: StatusGetResponseUserNotificationEmail,
  SubscriptionCreateResponse: SubscriptionCreateResponse,
  SubscriptionGetResponse: SubscriptionGetResponse,
  SubscriptionGetResponseBillingThresholds: SubscriptionGetResponseBillingThresholds,
  SubscriptionGetResponseDefaultTaxRates: SubscriptionGetResponseDefaultTaxRates,
  SubscriptionGetResponseInvoiceCustomerBalanceSettings: SubscriptionGetResponseInvoiceCustomerBalanceSettings,
  SubscriptionGetResponseItems: SubscriptionGetResponseItems,
  SubscriptionGetResponseItemsData: SubscriptionGetResponseItemsData,
  SubscriptionGetResponseItemsPlan: SubscriptionGetResponseItemsPlan,
  SubscriptionGetResponseItemsPlanMetadata: SubscriptionGetResponseItemsPlanMetadata,
  SubscriptionGetResponseItemsPlanTiers: SubscriptionGetResponseItemsPlanTiers,
  SubscriptionGetResponseItemsPlanTransformUsage: SubscriptionGetResponseItemsPlanTransformUsage,
  SubscriptionGetResponseItemsPrice: SubscriptionGetResponseItemsPrice,
  SubscriptionGetResponseItemsPriceRecurring: SubscriptionGetResponseItemsPriceRecurring,
  SubscriptionGetResponsePauseCollection: SubscriptionGetResponsePauseCollection,
  SubscriptionGetResponsePendingInvoiceItemInterval: SubscriptionGetResponsePendingInvoiceItemInterval,
  SubscriptionGetResponsePendingUpdate: SubscriptionGetResponsePendingUpdate,
  SubscriptionGetResponseTransferData: SubscriptionGetResponseTransferData,
  SubscriptionUpdateResponse: SubscriptionUpdateResponse,
  TeamsResponseWithId: TeamsResponseWithId,
  TeamsResponseWithoutId: TeamsResponseWithoutId,
  UsageSummaryGetResponse: UsageSummaryGetResponse,
};

export class ObjectSerializer {
  public static findCorrectType(data: any, expectedType: string) {
    if (data == undefined) {
      return expectedType;
    } else if (primitives.indexOf(expectedType.toLowerCase()) !== -1) {
      return expectedType;
    } else if (expectedType === 'Date') {
      return expectedType;
    } else {
      if (enumsMap.has(expectedType)) {
        return expectedType;
      }

      if (!typeMap[expectedType]) {
        return expectedType; // w/e we don't know the type
      }

      // Check the discriminator
      let discriminatorProperty = typeMap[expectedType].discriminator;
      if (discriminatorProperty == null) {
        return expectedType; // the type does not have a discriminator. use it.
      } else {
        if (data[discriminatorProperty]) {
          var discriminatorType = data[discriminatorProperty];
          if (typeMap[discriminatorType]) {
            return discriminatorType; // use the type given in the discriminator
          } else {
            return expectedType; // discriminator did not map to a type
          }
        } else {
          return expectedType; // discriminator was not present (or an empty string)
        }
      }
    }
  }

  public static serialize(data: any, type: string, format: string) {
    if (data == undefined) {
      return data;
    } else if (primitives.indexOf(type.toLowerCase()) !== -1) {
      return data;
    } else if (type.lastIndexOf('Array<', 0) === 0) {
      // string.startsWith pre es6
      let subType: string = type.replace('Array<', ''); // Array<Type> => Type>
      subType = subType.substring(0, subType.length - 1); // Type> => Type
      let transformedData: any[] = [];
      for (let index in data) {
        let date = data[index];
        transformedData.push(ObjectSerializer.serialize(date, subType, format));
      }
      return transformedData;
    } else if (type === 'Date') {
      if (format == 'date') {
        let month = data.getMonth() + 1;
        month = month < 10 ? '0' + month.toString() : month.toString();
        let day = data.getDate();
        day = day < 10 ? '0' + day.toString() : day.toString();

        return data.getFullYear() + '-' + month + '-' + day;
      } else {
        return data.toISOString();
      }
    } else {
      if (enumsMap.has(type)) {
        return data;
      }
      if (!typeMap[type]) {
        // in case we dont know the type
        return data;
      }

      // Get the actual type of this object
      type = this.findCorrectType(data, type);

      // get the map for the correct type.
      let attributeTypes = typeMap[type].getAttributeTypeMap();
      let instance: { [index: string]: any } = {};
      for (let index in attributeTypes) {
        let attributeType = attributeTypes[index];
        instance[attributeType.baseName] = ObjectSerializer.serialize(
          data[attributeType.name],
          attributeType.type,
          attributeType.format
        );
      }
      return instance;
    }
  }

  public static deserialize(data: any, type: string, format: string) {
    // polymorphism may change the actual type.
    type = ObjectSerializer.findCorrectType(data, type);
    if (data == undefined) {
      return data;
    } else if (primitives.indexOf(type.toLowerCase()) !== -1) {
      return data;
    } else if (type.lastIndexOf('Array<', 0) === 0) {
      // string.startsWith pre es6
      let subType: string = type.replace('Array<', ''); // Array<Type> => Type>
      subType = subType.substring(0, subType.length - 1); // Type> => Type
      let transformedData: any[] = [];
      for (let index in data) {
        let date = data[index];
        transformedData.push(
          ObjectSerializer.deserialize(date, subType, format)
        );
      }
      return transformedData;
    } else if (type === 'Date') {
      return new Date(data);
    } else {
      if (enumsMap.has(type)) {
        // is Enum
        return data;
      }

      if (!typeMap[type]) {
        // dont know the type
        return data;
      }
      let instance = new typeMap[type]();
      let attributeTypes = typeMap[type].getAttributeTypeMap();
      for (let index in attributeTypes) {
        let attributeType = attributeTypes[index];
        instance[attributeType.name] = ObjectSerializer.deserialize(
          data[attributeType.baseName],
          attributeType.type,
          attributeType.format
        );
      }
      return instance;
    }
  }

  /**
   * Normalize media type
   *
   * We currently do not handle any media types attributes, i.e. anything
   * after a semicolon. All content is assumed to be UTF-8 compatible.
   */
  public static normalizeMediaType(
    mediaType: string | undefined
  ): string | undefined {
    if (mediaType === undefined) {
      return undefined;
    }
    return mediaType
      .split(';')[0]
      .trim()
      .toLowerCase();
  }

  /**
   * From a list of possible media types, choose the one we can handle best.
   *
   * The order of the given media types does not have any impact on the choice
   * made.
   */
  public static getPreferredMediaType(mediaTypes: Array<string>): string {
    /** According to OAS 3 we should default to json */
    if (!mediaTypes) {
      return 'application/json';
    }

    const normalMediaTypes = mediaTypes.map(this.normalizeMediaType);
    let selectedMediaType: string | undefined = undefined;
    let selectedRank: number = -Infinity;
    for (const mediaType of normalMediaTypes) {
      if (supportedMediaTypes[mediaType!] > selectedRank) {
        selectedMediaType = mediaType;
        selectedRank = supportedMediaTypes[mediaType!];
      }
    }

    if (selectedMediaType === undefined) {
      throw new Error(
        'None of the given media types are supported: ' + mediaTypes.join(', ')
      );
    }

    return selectedMediaType!;
  }

  /**
   * Convert data to a string according the given media type
   */
  public static stringify(data: any, mediaType: string): string {
    if (mediaType === 'application/json') {
      return JSON.stringify(data);
    }

    throw new Error(
      'The mediaType ' +
        mediaType +
        ' is not supported by ObjectSerializer.stringify.'
    );
  }

  /**
   * Parse data from a string according to the given media type
   */
  public static parse(rawData: string, mediaType: string | undefined) {
    if (mediaType === undefined) {
      throw new Error('Cannot parse content. No Content-Type defined.');
    }

    if (mediaType === 'application/json') {
      return JSON.parse(rawData);
    }

    throw new Error(
      'The mediaType ' +
        mediaType +
        ' is not supported by ObjectSerializer.parse.'
    );
  }
}
